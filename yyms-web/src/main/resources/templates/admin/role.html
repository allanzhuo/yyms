<!-- 页面标签 -->
<div class="layadmin-tabsbody-item layui-show">
    <div class="layui-card layadmin-header yyms-header">
        <div class="layui-breadcrumb" lay-filter="breadcrumb" style="visibility: visible;">
            <a href="/admin">主页</a><span lay-separator="">/</span>
            <a><cite>系统管理</cite></a><span lay-separator="">/</span>
            <a><cite>角色管理</cite></a>
        </div>
    </div>
    <div class="layui-fluid">
        <div class="layui-card">
            <div class="layui-form layui-card-header layuiadmin-card-header-auto" lay-filter="app-content-list">
                <div class="layui-form-item">
                    <div class="layui-inline">
                        <label class="layui-form-label">角色名称</label>
                        <div class="layui-input-inline">
                            <input type="text" name="roleName" id="roleName" placeholder="请输入角色名称" autocomplete="off"
                                   class="layui-input">
                        </div>
                    </div>
                    <div class="layui-inline">
                        <button class="layui-btn layuiadmin-btn-list" lay-submit=""
                                lay-filter="btn-search">
                            <i class="layui-icon layui-icon-search layuiadmin-button-btn"></i>
                        </button>
                    </div>
                </div>
            </div>

            <div class="layui-card-body">
                <div style="padding-bottom: 10px;" id="table-tools">
                    <a class="layui-btn" data-type="add">添加</a>
                    <a class="layui-btn layui-btn-danger" data-type="del">删除</a>
                </div>
                <table class="layui-table" id="role-table" lay-filter="role-table"></table>
            </div>
            <div id="role-tree"></div>
        </div>
    </div>
</div>
<div id="role-edit-tpl" style="display: none;">
    <div class="layui-layer-content" style="height: 390px;">
        <div class="layui-form" style="padding: 20px 30px 0 0;">
            <div class="layui-form-item">
                <label class="layui-form-label">角色名称</label>
                <div class="layui-input-block">
                    <input type="text" name="roleName" placeholder="请输入角色名称" class="layui-input" lay-verify="required"
                           autocomplete="off">
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">角色编码</label>
                <div class="layui-input-block">
                    <input type="text" name="roleCode" placeholder="请输入角色编码" class="layui-input" lay-verify="required"
                           autocomplete="off">
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">角色描述</label>
                <div class="layui-input-block">
                    <textarea type="text" name="remark" placeholder="请输入角色描述" autocomplete="off"
                              class="layui-textarea"></textarea>
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">权限范围</label>
                <div class="layui-input-block">
                    <div id="role-tree1"></div>
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label"></label>
                <div class="layui-input-inline">
                    <input type="button" lay-submit="" value="确认" lay-filter="role-add" class="layui-btn">
                    <button class="layui-btn layui-btn-danger" type="reset" id="resetAdd">重置</button>
                </div>
            </div>
        </div>
    </div>
    <script>
        layui.use(['form', 'tree'], function () {
            var $ = layui.$
                , form = layui.form
                , tree = layui.tree;

            tree.render({
                elem: '#role-tree1'
                , data: [{
                    title: '一级1'
                    , id: 1
                    , checked: true
                    , spread: true
                    , children: [{
                        title: '二级1-1 可允许跳转'
                        , id: 3
                        , href: 'https://www.layui.com/'
                        , children: [{
                            title: '三级1-1-3'
                            , id: 23
                            , children: [{
                                title: '四级1-1-3-1'
                                , id: 24
                                , children: [{
                                    title: '五级1-1-3-1-1'
                                    , id: 30
                                }, {
                                    title: '五级1-1-3-1-2'
                                    , id: 31
                                }]
                            }]
                        }, {
                            title: '三级1-1-1'
                            , id: 7
                            , children: [{
                                title: '四级1-1-1-1 可允许跳转'
                                , id: 15
                                , href: 'https://www.layui.com/doc/'
                            }]
                        }, {
                            title: '三级1-1-2'
                            , id: 8
                            , children: [{
                                title: '四级1-1-2-1'
                                , id: 32
                            }]
                        }]
                    }, {
                        title: '二级1-2'
                        , id: 4
                        , spread: true
                        , children: [{
                            title: '三级1-2-1'
                            , id: 9
                            , disabled: true
                        }, {
                            title: '三级1-2-2'
                            , id: 10
                        }]
                    }, {
                        title: '二级1-3'
                        , id: 20
                        , children: [{
                            title: '三级1-3-1'
                            , id: 21
                        }, {
                            title: '三级1-3-2'
                            , id: 22
                        }]
                    }]
                }, {
                    title: '一级2'
                    , id: 2
                    , spread: true
                    , children: [{
                        title: '二级2-1'
                        , id: 5
                        , spread: true
                        , children: [{
                            title: '三级2-1-1'
                            , id: 11
                        }, {
                            title: '三级2-1-2'
                            , id: 12
                        }]
                    }, {
                        title: '二级2-2'
                        , id: 6
                        , children: [{
                            title: '三级2-2-1'
                            , id: 13
                        }, {
                            title: '三级2-2-2'
                            , id: 14
                            , disabled: true
                        }]
                    }]
                }, {
                    title: '一级3'
                    , id: 16
                    , children: [{
                        title: '二级3-1'
                        , id: 17
                        , fixed: true
                        , children: [{
                            title: '三级3-1-1'
                            , id: 18
                        }, {
                            title: '三级3-1-2'
                            , id: 19
                        }]
                    }, {
                        title: '二级3-2'
                        , id: 27
                        , children: [{
                            title: '三级3-2-1'
                            , id: 28
                        }, {
                            title: '三级3-2-2'
                            , id: 29
                        }]
                    }]
                }]
                , showCheckbox: true  //是否显示复选框
                , id: 'demoId1'
                , isJump: true //是否允许点击节点时弹出新窗口跳转
            });

        });
    </script>
</div>
<!--操作-->
<script type="text/html" id="roleBar">
    <a class="layui-btn layui-btn-xs" lay-event="edit">编辑</a>
    <a class="layui-btn layui-btn-xs layui-btn-danger" lay-event="del">删除</a>
</script>
<script type="text/html" id="statusBar">
    <input type="checkbox" name="roleStatus" value="{{d.id}}" lay-skin="switch" lay-text="启用|禁用"
           lay-filter="roleStatus" {{ d.roleStatus== true ? 'checked' : '' }}>
</script>